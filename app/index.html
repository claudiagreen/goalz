<!doctype html>
<html lang="en" ng-app="goalbusterApp">
<head>
<meta charset="utf-8">
<title>Goalbuster App</title>

  <script src="bower_components/angular/angular.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/goalsController.js"></script>
  <script type="text/javascript" src="js/factories/goalFactory.js"></script>
  <script type="text/javascript" src="js/services/goalService.js"></script>

</head>
  <body ng-controller='GoalbusterController as controller' ng-init="hideOnBlur=true">
    <div>
      <input id="new-goal-name" type="text" ng-model="goalText" placeholder="What is your goal?">
      <button id='add-goal-button' ng-click="controller.addNewGoal(goalText); controller.refreshGoals()">Add goal</button>
    </div>
    <div id='goals'>
      <p ng-repeat='goal in controller.goals'>
        <span id='goal' ng-click="editing = true"  ng-hide="editing">{{ goal.name }}</span>
        <span ng-show="editing">
          <input id='edit-goal' type="text"  ng-model="goal.name" ng-blur="editing = false; controller.editGoal(goal.name,goal.id)" ng-required>
            <a data-ng-click="editing = false"></a>
        </span>
      </p>
    </div>
  </body>
</html>
