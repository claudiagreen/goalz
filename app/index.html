<!doctype html>
<html lang="en" ng-app="goalbusterApp">
<head>
<meta charset="utf-8">
<title>Goalbuster App</title>

  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-cookie/angular-cookie.js"></script>
  <script src="bower_components/ng-token-auth/dist/ng-token-auth.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/controllers/goalsController.js"></script>
  <script type="text/javascript" src="js/controllers/tasksController.js"></script>
  <script type="text/javascript" src="js/factories/goalsFactory.js"></script>
  <script type="text/javascript" src="js/factories/tasksFactory.js"></script>
  <script type="text/javascript" src="js/services/goalsService.js"></script>
  <script type="text/javascript" src="js/services/tasksService.js"></script>

</head>
  <body ng-controller='GoalsController as controller'>

    <div class="form-group">
      <button ng-click="authenticate('github')">Sign in with Github</button>
    </div>

    <div>
      <input id="new-goal-name" type="text" ng-model="controller.goalText" placeholder="What is your goal?">
      <button id='add-goal-button' ng-click="controller.addNewGoal(controller.goalText)">Add goal</button>
    </div>

    <div id='goals'>
      <p ng-repeat='goal in controller.goals'>
          <span id='goal' ng-click="editing = true"  ng-hide="editing">{{ goal.name }}</span>
          <span ng-show="editing">
            <input id='edit-goal' type="text"  ng-model=goal.name ng-blur="editing = false; controller.editGoal(goal.name,goal.id)" >
            <a ng-click="editing = false" ></a>
          </span>
          <button ng-click="controller.deleteGoal(goal.id)">X</button>
      </p>
    </div>
  </body>
</html>
